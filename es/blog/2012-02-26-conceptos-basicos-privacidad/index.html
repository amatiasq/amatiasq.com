<!DOCTYPE html><html lang="es"><head><meta charSet="UTF-8"/><meta name="description" content="A. Matías Quezada&#x27;s personal website"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Conceptos Básicos Javascript: Privacidad | A. Matías Quezada</title><style> *, ::before, ::after { box-sizing: border-box; } html { line-sizing: normal; } body { margin: 0; } [hidden] { display: none; } h1 { font-size: 2rem; } h2 { font-size: 1.5rem; } h3 { font-size: 1.17rem; } h4 { font-size: 1.00rem; } h5 { font-size: 0.83rem; } h6 { font-size: 0.67rem; } h1 { margin: 0.67em 0; } pre { white-space: pre-wrap; } hr { border-style: solid; border-width: 1px 0 0; color: inherit; height: 0; overflow: visible; } img, svg, video, canvas, audio, iframe, embed, object { display: block; vertical-align: middle; max-width: 100%; } audio:not([controls]) { display:none; } picture { display: contents; } source { display: none; } img, svg, video, canvas { height: auto; } audio { width: 100%; } img { border-style: none; } svg { overflow: hidden; } article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } [type='checkbox'], [type='radio'] { box-sizing: border-box; padding: 0; } @media (prefers-reduced-motion: reduce) { *, ::before, ::after { animation-name: none !important; transition: none !important; } } </style><style>@font-face { font-family: 'Inconsolata'; font-style: normal; font-weight: 400; font-stretch: normal; font-display: swap; src: url(https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp4U8aRo.ttf) format('truetype'); } @font-face { font-family: 'Inconsolata'; font-style: normal; font-weight: 700; font-stretch: normal; font-display: swap; src: url(https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp2I7aRo.ttf) format('truetype'); } @font-face { font-family: 'Nunito'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/nunito/v24/XRXI3I6Li01BKofiOc5wtlZ2di8HDLshRTM.ttf) format('truetype'); } @font-face { font-family: 'Nunito'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/nunito/v24/XRXI3I6Li01BKofiOc5wtlZ2di8HDFwmRTM.ttf) format('truetype'); } @font-face { font-family: 'Nunito Sans'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/nunitosans/v12/pe0qMImSLYBIv1o4X1M8cfe6.ttf) format('truetype'); } @font-face { font-family: 'Nunito Sans'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/nunitosans/v12/pe03MImSLYBIv1o4X1M8cc8GBv5q.ttf) format('truetype'); } </style><style> :root { background-color: var(--color-background); color: var(--color-foreground); font-family: Nunito Sans, sans-serif; font-size: 18px; line-height: 1.5; letter-spacing: 0.5px; } html:not(.light-scheme) { --color-primary: #00FBFF; --color-foreground: #FDFBF8; --color-foregroundStrong: #FFFFFF; --color-background: #263238; --color-backgroundStrong: #161b22; --color-border: #586369; } @media (prefers-color-scheme: light) { html { --color-primary: #0006B0; --color-foreground: #3a3a3a; --color-foregroundStrong: #000000; --color-background: #dae2e7; --color-backgroundStrong: #e3e7ed; --color-border: gray; } } html.light-scheme { --color-primary: #0006B0; --color-foreground: #3a3a3a; --color-foregroundStrong: #000000; --color-background: #dae2e7; --color-backgroundStrong: #e3e7ed; --color-border: gray; } header, h1, h2, h3, h4, h5, h6 { font-family: Nunito, sans-serif; } a { color: var(--color-primary); text-decoration: none; } :root { --external-link: url("data:image/svg+xml;utf8, %3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%2300FBFF' stroke='COLOR' viewBox='0 0 24 24' %3E %3Cpath d='M6 17c2.269-9.881 11-11.667 11-11.667v-3.333l7 6.637-7 6.696v-3.333s-6.17-.171-11 5zm12 .145v2.855h-16v-12h6.598c.768-.787 1.561-1.449 2.339-2h-10.937v16h20v-6.769l-2 1.914z'/%3E %3C/svg%3E "); } a[href^="http"]:not([href^="https://repos.amatiasq.com"]):not(.no-external)::after { content: ''; margin-left: 0.5em; width: 0.8em; height: 0.8em; display: inline-block; background-image: var(--external-link); background-repeat: no-repeat; background-position: center; background-size: contain; } :where(.bouncy-box, article a) { position: relative; display: inline-block; --underline-width: 1px; --padding: 8; transform: scale(1) rotate(0); transition: transform 0.3s cubic-bezier(0.25, 0.1, 0, 2.05); } :where(.bouncy-box, article a):hover { transform: scale(1.1) rotate(0); } :where(.bouncy-box, article a):before { content: ''; position: absolute; z-index: -1; border-radius: 8px; opacity: 1; background: var(--color-primary); inset: calc(100% - var(--underline-width)) 0 0 0; height: var(--underline-width); transition-property: inset, opacity, height, background; transition-duration: 0.3s; transition-timing-function: cubic-bezier(0,.5,0,1); } :where(.bouncy-box, article a):hover:before { inset: calc(var(--padding) * -1px) calc(var(--padding) * -2px); background: black; opacity: 0.8; height: calc(100% + calc(var(--padding) * 2px)); } ol { padding: 0; } li { list-style: none; } code { font-family: Inconsolata, monospace; } svg { fill: var(--color-foreground); } summary { cursor: pointer; list-style: none; } summary::-webkit-details-marker { display: none; } .md summary { list-style: unset; } .md summary::-webkit-details-marker { display: unset; } </style><style>.css-1dwwgr5{display:none;}@media (min-width: 769px){.css-1dwwgr5{display:block;position:fixed;overflow:hidden;background-color:var(--color-primary);--size:2rem;bottom:calc(var(--size) * -1);right:calc(var(--size) * -1);height:calc(var(--size) * 2);width:calc(var(--size) * 2);border-radius:var(--size);transition-duration:0.3s;transition-timing-function:cubic-bezier(0.25, 0.1, 0, 2.05);transition-property:border-radius,bottom,right,height,width;}.css-1dwwgr5:hover,.css-1dwwgr5:focus-within{--size:6rem;}.css-1dwwgr5:hover p,.css-1dwwgr5:focus-within p{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);opacity:1;}.css-1dwwgr5 input{margin-top:-10rem;margin-left:-10rem;}.css-1dwwgr5 p{opacity:0;background:rgba(0, 0, 0, 0.8);border-radius:16px;padding:0.3em 1em;position:fixed;bottom:2rem;right:7rem;color:var(--color-primary);font-weight:bold;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);transform-origin:100% 1000%;-webkit-transition:-webkit-transform 0.3s,opacity 1s;transition:transform 0.3s,opacity 1s;}}
.css-13sgw9j{margin-top:10rem;overflow:hidden;}.css-13sgw9j #disqus_thread{margin-top:-50px;margin-bottom:-36px;}
.css-5a8vm2 .shj-inline{margin:0;padding:2px 5px;display:inline-block;border-radius:5px;}.css-5a8vm2 [class*=shj-lang-]::selection,.css-5a8vm2 [class*=shj-lang-] ::selection{background:#bdf5;}.css-5a8vm2 [class*=shj-lang-]>div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:auto;}.css-5a8vm2 [class*=shj-lang-]>div :last-child{-webkit-flex:1;-ms-flex:1;flex:1;outline:none;}.css-5a8vm2 .shj-syn-cmnt{font-style:italic;}.css-5a8vm2 .shj-syn-err,.css-5a8vm2 .shj-syn-kwd{color:#e16;}.css-5a8vm2 .shj-syn-num,.css-5a8vm2 .shj-syn-class{color:#f60;}.css-5a8vm2 .shj-numbers,.css-5a8vm2 .shj-syn-cmnt{color:#999;}.css-5a8vm2 .shj-syn-insert,.css-5a8vm2 .shj-syn-str{color:#7d8;}.css-5a8vm2 .shj-syn-bool{color:#3bf;}.css-5a8vm2 .shj-syn-type,.css-5a8vm2 .shj-syn-oper{color:#5af;}.css-5a8vm2 .shj-syn-section,.css-5a8vm2 .shj-syn-func{color:#84f;}.css-5a8vm2 .shj-syn-deleted,.css-5a8vm2 .shj-syn-var{color:#f44;}.css-5a8vm2 .shj-oneline{padding:12px 10px;}.css-5a8vm2 .shj-lang-http.shj-oneline .shj-syn-kwd{background:#25f;color:#fff;padding:5px 7px;border-radius:5px;}.css-5a8vm2 .shj-multiline.shj-mode-header{padding:20px;}.css-5a8vm2 .shj-multiline.shj-mode-header:before{content:attr(data-lang);color:#58f;display:block;padding:10px 20px;background:#58f3;border-radius:5px;margin-bottom:20px;}.css-5a8vm2 [class*=shj-lang-]:before{color:#6f9aff;}.css-5a8vm2 .shj-syn-deleted,.css-5a8vm2 .shj-syn-err,.css-5a8vm2 .shj-syn-var{color:#e06c75;}.css-5a8vm2 .shj-syn-section,.css-5a8vm2 .shj-syn-oper,.css-5a8vm2 .shj-syn-kwd{color:#c678dd;}.css-5a8vm2 .shj-syn-class{color:#e5c07b;}.css-5a8vm2 .shj-numbers,.css-5a8vm2 .shj-syn-cmnt{color:#76839a;}.css-5a8vm2 .shj-syn-insert{color:#98c379;}.css-5a8vm2 .shj-syn-type{color:#56b6c2;}.css-5a8vm2 .shj-syn-num,.css-5a8vm2 .shj-syn-bool{color:#d19a66;}.css-5a8vm2 .shj-syn-str,.css-5a8vm2 .shj-syn-func{color:#61afef;}
.css-4iaasf{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji';}.css-4iaasf li{list-style:initial;}.css-4iaasf ul,.css-4iaasf ol{margin:20px 0;padding:reset;}.css-4iaasf p{margin:20px 0;text-align:justify;}.css-4iaasf blockquote{border-left:5px solid var(--color-border);margin-left:0;padding-left:1em;}.css-4iaasf code:not(.code-block){background-color:var(--color-backgroundStrong);padding:4px;border-radius:4px;}.css-4iaasf pre{--code-block-margin:3em;--code-block-padding:1em;--code-inline-padding:min(3em, var(--container-side-gap));margin:var(--code-block-margin) 0;padding:var(--code-block-padding) 0;position:relative;white-space:pre;}.css-4iaasf pre .code-block{display:block;width:var(--available-width);white-space:pre;text-shadow:none;font-size:18px;line-height:24px;box-sizing:border-box;max-width:var(--available-width);overflow-x:auto;color:#abb2bf;}.css-4iaasf pre::before{content:'';inset:calc(var(--code-block-padding) * -1) calc(var(--code-inline-padding) * -1);background:#161b22;border-radius:10px;box-shadow:0 0 5px #0001;position:absolute;z-index:-1;max-width:100vw;}
.css-18paweh{opacity:0.8;font-size:0.8em;font-family:Inconsolata,monospace;color:var(--color-foreground);white-space:nowrap;}
.css-v6zv8e{font-family:Nunito,sans-serif;font-weight:700;font-size:32px;}
.css-relzm4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}@media (min-width: 769px){.css-relzm4{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}
.css-1wcd5po{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;background:none;border:none;font-size:inherit;}html:not(.light-scheme) .css-1wcd5po span:first-child{display:none;}@media (prefers-color-scheme: light){html .css-1wcd5po span:last-child{display:none;}}html.light-scheme .css-1wcd5po span:last-child{display:none;}
.css-1mi0geu{color:var(--color-foregroundStrong);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;letter-spacing:1px;white-space:nowrap;}.css-1mi0geu abbr{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:0.79em;overflow:hidden;-webkit-transition:width 0.3s ease;transition:width 0.3s ease;}.css-1mi0geu abbr,.css-1mi0geu span+span{margin-left:0.4em;}.css-1mi0geu:hover abbr{width:3.3em;}.css-1mi0geu:hover .dot{display:none;}
.css-1x2qc6k{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:12px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;font-size:1.3em;}@media (min-width: 769px){.css-1x2qc6k{font-size:1.5em;}}
.css-147lofe{--container-side-gap:2rem;--container-width:40rem;--container-sides-gap:calc(var(--container-side-gap) * 2);--available-width:min(
      calc(100vw - var(--container-sides-gap)),
      calc(var(--container-width) - var(--container-sides-gap))
    );max-width:var(--container-width);padding-left:var(--container-side-gap);padding-right:var(--container-side-gap);margin-left:auto;margin-right:auto;}@media (min-width: 769px){.css-147lofe{--container-width:50rem;--container-side-gap:3rem;}}@media (min-width: 1200px){.css-147lofe{--container-width:60rem;}}
.css-1134qic{cursor:pointer;font-size:var(--emoji-size);-webkit-transition:font-size 0.15s ease-in-out;transition:font-size 0.15s ease-in-out;margin-top:-5px;}
.css-qam5gc{cursor:pointer;font-size:var(--emoji-size);-webkit-transition:font-size 0.15s ease-in-out;transition:font-size 0.15s ease-in-out;}
.css-syhxvc{color:var(--color-primary);margin-right:12px;border-bottom:1px solid transparent;-webkit-transform:translate(0px, 0px);-moz-transform:translate(0px, 0px);-ms-transform:translate(0px, 0px);transform:translate(0px, 0px);}.css-syhxvc.parent{border-bottom:1px solid var(--color-border);}.css-syhxvc:hover{border-bottom:1px solid var(--color-primary);-webkit-transition:-webkit-transform 1s ease;transition:transform 1s ease;-webkit-transform:translate(0px, -3px);-moz-transform:translate(0px, -3px);-ms-transform:translate(0px, -3px);transform:translate(0px, -3px);}
.css-1nl2wzu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;gap:12px;}
.css-1qscrim{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex-flow:column wrap;-webkit-flex-flow:column wrap;-ms-flex-flow:column wrap;flex-flow:column wrap;gap:20px;}.css-1qscrim .not-priority{display:none;}@media (min-width: 769px){.css-1qscrim{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}@media (min-width: 1200px){.css-1qscrim .not-priority{display:block;}}
.css-el2kyp{--emoji-size:1.5rem;background-color:var(--color-backgroundStrong);color:var(--color-foreground);border-bottom:2px solid var(--color-border);padding:40px 0;font-size:1.2em;}@media (min-width: 769px){.css-el2kyp{--emoji-size:2rem;position:-webkit-sticky;position:sticky;top:0;z-index:1;-webkit-transition:padding 0.15s ease-in-out,font-size 0.15s ease-in-out;transition:padding 0.15s ease-in-out,font-size 0.15s ease-in-out;}.css-el2kyp.scrolled{--emoji-size:1.5rem;padding:12px 0;font-size:inherit;}}
.css-1e8d7s{padding-bottom:4rem;}
.css-1p4f3y5{display:grid;padding-top:20px;gap:12px;}</style><script>;(async () => {const doc = document.documentElement;

const onDomLoaded = new Promise((resolve) =>
  addEventListener('DOMContentLoaded', resolve)
);

async function $(selector) {
  await onDomLoaded;
  return document.querySelector(selector);
}

async function $$(selector) {
  await onDomLoaded;
  return [...document.querySelectorAll(selector)];
}

onDomLoaded.then(() => {
  $ = (selector) => Promise.resolve(document.querySelector(selector));
  $$ = (selector) => Promise.resolve([...document.querySelectorAll(selector)]);
});

Object.assign(window, { $, $$, doc });
})();
;(async () => {const COLOR_SCHEME_KEY = 'amatiasq.com|color-scheme';

if (localStorage.getItem(COLOR_SCHEME_KEY)) {
  doc.classList.toggle('light-scheme');
}

doc.addEventListener('amq-primary-color-ready', () => {
  if (localStorage.getItem(COLOR_SCHEME_KEY)) {
    primaryColorChanged();
  }
});

const button = await $('[data-togglecolorscheme]');

button.addEventListener('click', () => {
  if (doc.classList.toggle('light-scheme')) {
    localStorage.setItem(COLOR_SCHEME_KEY, 'light');
  } else {
    localStorage.removeItem(COLOR_SCHEME_KEY);
  }

  primaryColorChanged ? primaryColorChanged() : null;
});

button.removeAttribute('data-togglecolorscheme');
})();
;(async () => {
const getExternalLinkBackground = function anonymous(color
) {

    function svgToUrl(svg) {
    const escaped = svg.replace(/</g, '%3C').replace(/>/g, '%3E').replace(/"/g, "'").replace(/(\s|\n)+/g, ' ').replace(/#/g, '%23');
    return `url("data:image/svg+xml;utf8,${escaped}")`;
}
    const svg = `
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    fill="COLOR"
    stroke="COLOR"
    viewBox="0 0 24 24"
  >
    <path d="M6 17c2.269-9.881 11-11.667 11-11.667v-3.333l7 6.637-7 6.696v-3.333s-6.17-.171-11 5zm12 .145v2.855h-16v-12h6.598c.768-.787 1.561-1.449 2.339-2h-10.937v16h20v-6.769l-2 1.914z"/>
  </svg>
`
    return svgToUrl(svg.replace('COLOR', color));
  
};
const PRIMARY_COLOR_KEY = 'amatiasq.com|color-primary';

function changePrimaryColor(newColor) {
  if (!newColor) return;
  doc.style.setProperty('--color-primary', newColor);
  localStorage.setItem(PRIMARY_COLOR_KEY, newColor);
  primaryColorChanged(newColor);
}

function primaryColorChanged(
  newColor = getComputedStyle(doc).getPropertyValue('--color-primary')
) {
  const event = new CustomEvent('amq-primary-color-changed', {
    detail: newColor,
  });
  doc.dispatchEvent(event);
}

Object.assign(window, { primaryColorChanged });

doc.addEventListener('amq-primary-color-changed', async (event) => {
  const newColor = event.detail;

  doc.style.setProperty('--external-link', getExternalLinkBackground(newColor));

  const $picker = await $('#color-picker');
  $picker.value = newColor.trim();
});

changePrimaryColor(localStorage.getItem(PRIMARY_COLOR_KEY));

doc.dispatchEvent(new Event('amq-primary-color-ready'));

const picker = await $('#color-picker');

picker.addEventListener('input', (e) => changePrimaryColor(e.target.value));

        })();</script></head><body class=" css-1e8d7s"><script type="module" defer="">;(async () => {const scrollers = (await $$('[data-scrollclass]'))
  .map((x) => ({
    el: x,
    className: x.dataset.scrollclass,
    offset: x.dataset.scrolloffset || 0,
    tolerance: x.dataset.scrolltolerance || 0,
  }))
  .filter((x) => x.className);

const pendingScrollers = new Set(scrollers);

if (pendingScrollers.size) {
  addEventListener('scroll', () => {
    const scrolled = document.documentElement.scrollTop;

    for (const { el, className, offset, tolerance } of pendingScrollers) {
      const scrollDiff = scrolled - offset;

      if (Math.abs(scrollDiff) < tolerance) {
        return;
      }

      const hasClass = el.classList.contains(className);
      const shouldHaveClass = scrollDiff > 0;

      if (shouldHaveClass === hasClass) {
        return;
      }

      if (shouldHaveClass) {
        el.classList.add(className);
      } else {
        el.classList.remove(className);
      }
    }
  });
}
})();</script><header class="css-el2kyp " data-scrollclass="scrolled" data-scrolloffset="50" data-scrolltolerance="50"><div class="css-1qscrim css-147lofe"><h2 class="css-1x2qc6k"><a href="../.." class="css-1mi0geu inactive"><span>{ </span><abbr>Adrian</abbr><span class="dot">.</span><span>Matías Quezada</span><span> }</span></a></h2><nav class="css-1nl2wzu"><a href=".." class="css-syhxvc parent">Blog</a><a href="../../projects" class="css-syhxvc not-priority">Proyectos</a><a href="../../career" class="css-syhxvc">CV</a><a href="../../../blog/2012-02-26-conceptos-basicos-privacidad" class="css-qam5gc">🇬🇧</a><button class="css-1wcd5po css-1134qic" data-togglecolorscheme="true"><span>🌒</span><span>☀️</span></button></nav></div></header><div class="css-1p4f3y5 css-147lofe"><h2 class="css-relzm4  css-v6zv8e">Conceptos Básicos Javascript: Privacidad<time class="css-18paweh " dateTime="26/02/2012">26 feb 2012</time></h2><article class="md css-4iaasf css-5a8vm2 "><h3 id="introducci-n">Introducción</h3>
<p>Uno de los temas más frecuentes cuando uno se inicia en Javascript es la privacidad, principalmente viniendo de <strong>lenguajes como Java, C# o C++; donde publican o se ocultan propiedades de los objetos mediante modificadores. Javascript</strong> no posee dichos modificadores sino que <strong>todas las propiedades de los objetos son públicas</strong> lo que puede ser muy confuso para una persona poco diestra en ésta técnica, entre los que me incluyo.</p>
<p>Personalmente cuando diseño un componente (objeto/clase/librería), es porque quiero que ese componente cumpla una funcionalidad, por ejemplo, si yo quiero tener una clase que represente a una impresora necesito enviarle datos y que los imprima; <strong>mi prioridad es que dicho componente sea sencillo de utilizar, lo que facilita la reutilización del componente</strong>. Por lo que primero imagino cómo me gustaría usarlo:</p>
<!-- end extract -->

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">var</span> impresora <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
impresora<span class="shj-syn-oper">.</span><span class="shj-syn-func">encender</span>();
impresora<span class="shj-syn-oper">.</span><span class="shj-syn-func">imprimir</span>(datos);
impresora<span class="shj-syn-oper">.</span><span class="shj-syn-func">apagar</span>();
</code></pre>
<p>Como se ve, para cumplir la funcionalidad me basta con tres métodos, pero si yo escribo mi clase impresora con solo tres métodos probablemente duplicaría mucho código, por ejemplo, que <code>.imprimir()</code> y <code>.apagar()</code> deban comprobar si hay papel en la impresora.</p>
<!--more Seguir leyendo → -->
<h3 id="soluciones">Soluciones</h3>
<h4 id="hacer-toda-la-interfaz-p-blica">Hacer toda la interfaz pública</h4>
<p>Podríamos crear in método público <code>.hayPapel()</code>, pero personalmente prefiero que la API, la interfaz pública de mi componente sea tan sencilla como sea posible por lo que no quiero hacer ése método público. <strong>Cuando tengo que usar una librería ajena no quiero saber cómo está hecha, quiero saber como usarla</strong>. Por ello si ésta clase tiene el método <code>.hayPapel()</code> le estoy diciendo al programador que ese método está ahí para usarlo, cuando en realidad no es así, ese método está ahí para ayudarme a mi como desarrollador de la clase a no duplicar código.</p>
<h4 id="usar-la-convenci-n-de-barra-baja-underscore-_-">Usar la convención de Barra Baja (Underscore, &#39;<code>_</code>&#39;)</h4>
<p>Una práctica muy común en Javascript es añadir al principio o al final del nombre de la propiedad el símbolo barra baja con lo que la propiedad es pública, pero <strong>por convención las propiedades que empiezan o finalizan con barra baja no deben ser llamadas desde fuera del componente</strong>:</p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Impresora</span>() { }
<span class="shj-syn-class">Impresora</span><span class="shj-syn-oper">.</span>prototype <span class="shj-syn-oper">=</span> {
    encender<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span>() { <span class="shj-syn-oper">...</span> }<span class="shj-syn-oper">,</span>
    apagar<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span>() { <span class="shj-syn-oper">...</span> }<span class="shj-syn-oper">,</span>
    imprimir<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span>(datos) { <span class="shj-syn-oper">...</span> }<span class="shj-syn-oper">,</span>
    _hayPapel<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span>() { <span class="shj-syn-oper">...</span> }
};
</code></pre>
<p>Este es el método más extendido que he visto en Javascript, porque es una solución que <strong>no afecta al tiempo de ejecución del programa</strong>. Javascript simplemente accede a una propiedad pública sin pérdida de rendimiento. Es una buena solución siempre que se respete la convención, de lo contrario estaríamos acoplando componentes. Eso quiere decir que si quiero hacer pública una propiedad tengo que cambiarle el nombre en todos los puntos en que la utilizo? Desgraciadamente si, pero siempre tienes el consuelo de que será dentro de tu propia librería, ya que si cambias una variable de privada a pública no debería haber ningún punto fuera de tu código que accediera a ésa propiedad, y si lo que estás haciendo es cambiarla de pública a privada... bueno, evidentemente hay que refactorizar el código que utilizara tu librería de cualquier forma.</p>
<h4 id="privacidad-por-constructor">Privacidad por constructor</h4>
<p>Los closures son un curioso método de privacidad, cuando creamos una función dentro de otra, <strong>la función hija puede acceder a las variables de la función padre, pero no al revés</strong>:</p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">var</span> a <span class="shj-syn-oper">=</span> <span class="shj-syn-num">5</span>;

<span class="shj-syn-kwd">function</span>() {
    <span class="shj-syn-kwd">var</span> b <span class="shj-syn-oper">=</span> <span class="shj-syn-num">6</span>;

    <span class="shj-syn-kwd">function</span>() {
        <span class="shj-syn-kwd">var</span> c <span class="shj-syn-oper">=</span> <span class="shj-syn-num">7</span>;
        <span class="shj-syn-cmnt">// Desde aquí puedo acceder a 'a', 'b' y 'c'
</span>    }

    <span class="shj-syn-cmnt">// Desde aquí puedo acceder a 'a' y 'b'.
</span>    <span class="shj-syn-cmnt">// 'c' no existe
</span>}

<span class="shj-syn-cmnt">// Desde aquí solo puedo acceder a 'a'.
</span><span class="shj-syn-cmnt">// 'b' y 'c' no existen</span>
</code></pre>
<p>Con ésto podemos buscar la privacidad, si analizamos el constructor de la clase <code>Impresora</code> veremos que es una función, igual que las del ejemplo. De alguna forma <strong>podemos crear variables privadas ahí</strong>.</p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Impresora</span>() {
  <span class="shj-syn-kwd">var</span> a <span class="shj-syn-oper">=</span> <span class="shj-syn-str">'Privada!'</span>;
  console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">'Accediendo desde dentro:'</span> <span class="shj-syn-oper">+</span> a);
}

<span class="shj-syn-kwd">var</span> temp <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">"Intentando acceder desde fuera usando 'temp.a': "</span> <span class="shj-syn-oper">+</span> temp<span class="shj-syn-oper">.</span>a);

<span class="shj-syn-cmnt">// Esta línea no se ejecuta porque 'a' no existe aquí y falla.
</span>console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">"Intentando acceder desde fuera usando 'a': "</span> <span class="shj-syn-oper">+</span> a);
</code></pre>
<p><a href="http://jsfiddle.net/amatiasq/qJnvS/" target="_blank">Pruébame</a></p>
<p>Funciona! Ahora añadamos los métodos:</p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Impresora</span>() {
  <span class="shj-syn-kwd">var</span> a <span class="shj-syn-oper">=</span> <span class="shj-syn-str">'Privada!'</span>;
}

<span class="shj-syn-class">Impresora</span><span class="shj-syn-oper">.</span>prototype <span class="shj-syn-oper">=</span> {
  probando<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span> () {
    console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">"Intentando acceder desde un método usando 'this.a': "</span> <span class="shj-syn-oper">+</span> <span class="shj-syn-kwd">this</span><span class="shj-syn-oper">.</span>a);

    <span class="shj-syn-cmnt">// Esta línea no se ejecuta porque 'a' no existe aquí y falla.
</span>    console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">"Intentando acceder desde un método usando 'a': "</span> <span class="shj-syn-oper">+</span> a);
  }<span class="shj-syn-oper">,</span>
};

<span class="shj-syn-kwd">var</span> temp <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
temp<span class="shj-syn-oper">.</span><span class="shj-syn-func">probando</span>();
</code></pre>
<p><a href="http://jsfiddle.net/amatiasq/jQLQf/" target="_blank">Pruébame</a></p>
<p>Pero no podemos acceder desde los métodos! <strong>Porque no están dentro del closure</strong>, de que nos sirve una variable privada si no podemos acceder a ella desde los métodos públicos? Hay una solución: el closure en el que hemos guardado la variable privada es el constructor del objeto, por lo que podríamos aprovechar el dinamismo de Javascript e injectar los métodos en el objeto dentro del constructor, así los métodos podrían acceder a las variables privadas:</p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Impresora</span>() {
  <span class="shj-syn-kwd">var</span> a <span class="shj-syn-oper">=</span> <span class="shj-syn-str">'Privada!'</span>;

  <span class="shj-syn-cmnt">// This es el objeto que éste constructor está creando
</span>  <span class="shj-syn-kwd">this</span><span class="shj-syn-oper">.</span><span class="shj-syn-func">probando</span> <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">function</span> () {
    console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">"Intentando acceder desde un método usando 'this.a': "</span> <span class="shj-syn-oper">+</span> <span class="shj-syn-kwd">this</span><span class="shj-syn-oper">.</span>a);
    console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">"Intentando acceder desde un método usando 'a': "</span> <span class="shj-syn-oper">+</span> a);
  };
}

<span class="shj-syn-kwd">var</span> temp <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
temp<span class="shj-syn-oper">.</span><span class="shj-syn-func">probando</span>();
</code></pre>
<p><a href="http://jsfiddle.net/amatiasq/gRVqv/" target="_blank">Pruébame</a></p>
<p>Bien! éste sistema funciona, verdad? No tiene ningún inconveniente? Bueno, tiene uno, pero no es visible a simple vista porque nuestro cerebro y el intérprete de Javascript funcionan de forma distinta. <strong>Para nosotros <code>this.probando = function() { ... }</code> es crear una función y añadirla a todos las instancias de <code>Impresora</code></strong> pero el intérprete no lo ve así, para la máquina Javascript <strong>estamos creando una función por cada método para cada instancia</strong> y tiene sentido, si la primera función <code>probando</code> que creamos accede a la variable privada <code>a</code> de la primera instancia que creamos necesitaremos una función distinta para acceder a la variable privada de la segunda instancia que creemos.</p>
<p>Eso quiere decir que <strong>si creamos 10.000 instancias de <code>Impresora</code> tendremos 10.000 funciones que hacen casi lo mismo en la memoria? Si.</strong> Con las computadoras actuales es casi despreciable, pero si estamos manejando un proyecto en Javascript que puede estar creando y borrando instancias de la clase durante días (por ejemplo un programa de servidor o una RIA), tendremos un problema a medio plazo.</p>
<h3 id="privacidad-de-librer-a">Privacidad de librería</h3>
<p>Ahora tengo que confesar que he hecho trampas, todos los patrones descritos son para hacer privacidad a nivel de clase, pero <strong>hay una forma más sencilla de hacer privada una clase entera, los closures</strong>. Ahora pensarás &quot;pero me acabas de decir que los closures volvían a crear los métodos por cada instancia!&quot; si, cuando el closure es el constructor. <strong>Pero si englobamos toda la clase en un closure podemos tener privacidad a nivel de librería:</strong></p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-cmnt">// función de ejecución inmediata, se crea, se ejecuta y no se vuelve a utilizar
</span><span class="shj-syn-cmnt">// es el closure que guardará la privacidad
</span>(<span class="shj-syn-kwd">function</span> (global) {
  <span class="shj-syn-kwd">var</span> contador <span class="shj-syn-oper">=</span> <span class="shj-syn-num">0</span>;

  <span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Impresora</span>() {
    contador<span class="shj-syn-oper">++</span>;
  }

  <span class="shj-syn-cmnt">// Creamos un método estático
</span>  <span class="shj-syn-class">Impresora</span><span class="shj-syn-oper">.</span><span class="shj-syn-func">cantidadDeInstancias</span> <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">function</span> () {
    <span class="shj-syn-kwd">return</span> contador;
  };

  global<span class="shj-syn-oper">.</span><span class="shj-syn-class">Impresora</span> <span class="shj-syn-oper">=</span> <span class="shj-syn-class">Impresora</span>;
})(<span class="shj-syn-kwd">this</span>);

<span class="shj-syn-kwd">var</span> temp <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
<span class="shj-syn-kwd">var</span> temp2 <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-class">Impresora</span><span class="shj-syn-oper">.</span><span class="shj-syn-func">cantidadDeInstancias</span>());
</code></pre>
<p><a href="http://jsfiddle.net/amatiasq/HJzAB/" target="_blank">Pruébame</a></p>
<p>La variable <code>contador</code> es <strong>privada a nivel de librería</strong>, significa que <strong>todo lo que esté dentro del closure accede a ella</strong> y como podemos ver todo el código dentro del closure accede a la misma variable, lo que significa que todas las instancias de <code>Impresora</code> comparten la misma variable. También podemos usar éste patrón para ocultar clases y funciones, <strong>lo único que será publicado de dentro del closure será lo que guardemos en la variable <code>global</code>.</strong></p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-cmnt">// función de ejecución inmediata, se crea, se ejecuta y no se vuelve a utilizar
</span><span class="shj-syn-cmnt">// es el closure que guardará la privacidad
</span>(<span class="shj-syn-kwd">function</span> (global) {
  <span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Papel</span>() {}
  <span class="shj-syn-class">Papel</span><span class="shj-syn-oper">.</span>prototype <span class="shj-syn-oper">=</span> {
    hayPapelEn<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span> (impresora) {
      <span class="shj-syn-cmnt">// no hay papel
</span>      <span class="shj-syn-kwd">return</span> <span class="shj-syn-bool">false</span>;
    }<span class="shj-syn-oper">,</span>
    pedirAlUsuario<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span> () {
      console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(<span class="shj-syn-str">'Oye tu! ponme papel!'</span>);
    }<span class="shj-syn-oper">,</span>
  };

  <span class="shj-syn-kwd">var</span> papel <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Papel</span>();

  <span class="shj-syn-kwd">function</span> <span class="shj-syn-class">Impresora</span>() {}
  <span class="shj-syn-class">Impresora</span><span class="shj-syn-oper">.</span>prototype <span class="shj-syn-oper">=</span> {
    imprimir<span class="shj-syn-oper">:</span> <span class="shj-syn-kwd">function</span> (datos) {
      <span class="shj-syn-kwd">if</span> (<span class="shj-syn-oper">!</span>papel<span class="shj-syn-oper">.</span><span class="shj-syn-func">hayPapelEn</span>(<span class="shj-syn-kwd">this</span>)) papel<span class="shj-syn-oper">.</span><span class="shj-syn-func">pedirAlUsuario</span>();
      <span class="shj-syn-cmnt">// imprimir
</span>    }<span class="shj-syn-oper">,</span>
  };

  global<span class="shj-syn-oper">.</span><span class="shj-syn-class">Impresora</span> <span class="shj-syn-oper">=</span> <span class="shj-syn-class">Impresora</span>;
})(<span class="shj-syn-kwd">this</span>);

<span class="shj-syn-kwd">var</span> temp <span class="shj-syn-oper">=</span> <span class="shj-syn-kwd">new</span> <span class="shj-syn-class">Impresora</span>();
temp<span class="shj-syn-oper">.</span><span class="shj-syn-func">imprimir</span>();
</code></pre>
<p><a href="http://jsfiddle.net/amatiasq/vc2ke/" target="_blank">Pruébame</a></p>
<p>Este es un patrón muy recomendable, ya que mediante una función autoejecutable ocultamos todo lo que el usuario de nuestra librería no necesita conocer. Por poner un ejemplo, <a href="http://nodejs.org/">node.js</a> utiliza un patrón similar para generar librerías, en las que todas las variables que creamos en el archivo .js quedan ocultas y solo se exponen las propiedades que añadimos al objeto global <code>exports</code>. Ejemplo de saludo.js:</p>

<pre><code class="code-block shj-lang-js"><span class="shj-syn-kwd">var</span> saludo <span class="shj-syn-oper">=</span> <span class="shj-syn-str">'Hola!'</span>;
<span class="shj-syn-kwd">function</span> <span class="shj-syn-func">saludar</span>() {
  console<span class="shj-syn-oper">.</span><span class="shj-syn-func">log</span>(saludo);
}
exports<span class="shj-syn-oper">.</span>saludar <span class="shj-syn-oper">=</span> saludar;
</code></pre>
<p>Si tuviera que decir un defecto de éste patrón, es que <strong>todo lo que queramos englobar dentro del closure deberá estar en el mismo archivo</strong>, ya que el código debe estar dentro del closure y éste no puede estar repartido entre archivos. Ésto es un problema si queremos que dos clases con mucha lógica se comuniquen y no queremos acabar con un archivo de 1.000 líneas de código.</p>
<h3 id="resumen">Resumen</h3>
<p>No voy a opinar si la decisión de hacer todo público al crear Javascript es buena o mala porque en mi opinión <strong>no es que hacer todo público sea malo, sino que no estamos acostrumbrados a utilizarlo</strong>. Por ello, porque la mayoría de los programadores estamos acostumbrado a tener privacidad en los componentes, buscamos entre las opciones que nos da el lenguaje para simularlo.</p>
<p>En cuanto a mi, me parece interesante las posibilidades de un lenguaje tan flexible como Javascript a nivel académico, al fin y al cabo el objetivo de la investigación es tener la mente flexible para que a la hora de la verdad podamos ver caminos alternativos que nos ofrecen una mejor solución para un problema en particular. Un ejemplo de ésto es un patrón de privacidad por instancia que descubrí recientemente, hablaré de él en el [próximo post][2].</p>

</article><section class="css-13sgw9j"><div id="disqus_thread"></div><script type="module" defer="">;(async () => {
          var disqus_config=function(){
            this.page.url = `${location.origin}${location.pathname}`;
            this.page.identifier = '/blog/2012-02-26-conceptos-basicos-privacidad';
          };
          (function(){
            var d=document,s=d.createElement('script');
            s.src='https://amatiasq.disqus.com/embed.js';
            s.setAttribute('data-timestamp',+new Date());
            (d.head || d.body).appendChild(s);
          })();
        })();</script><noscript>Comments can&#x27;t be shown with Javascript disabled. Use a browser with Javascript to see them.</noscript></section></div><label for="color-picker" class="css-1dwwgr5"><input type="color" id="color-picker" value="#00ffe1"/><p>Cambia el color principal!</p></label></body></html>