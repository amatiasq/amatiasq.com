---
import { getLocale, printDate, type StringifiedDate } from "@util/date";

interface Props {
    date: Date | StringifiedDate | null;
    omitDay?: boolean;
}

const {
    date,
    omitDay = false
} = Astro.props;

if (date == null)
    return null;

const locale = getLocale(Astro.url);
const datetime = typeof date === "string"
    ? date
    : new Date(date).toISOString();
---

<time datetime={datetime}>
    {printDate(locale, date, { omitDay })}
</time>
